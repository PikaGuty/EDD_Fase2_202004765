<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="img/p.ico" />

    <title>Login</title>
  </head>
  <body>
    <style type="text/css">
        body{
            background: #ECECEC;
        }
        .footer{
            width: 100%;
            
        }
    </style>
    <br><br><br>
    <div class="container mt-5">
        <div class="row">
            <div class="card " style="width: 25rem; margin:0 auto; float: none; margin-bottom: 10px; background: #4e73df;">
                <div class="card-body text-center" style="border-radius: 20px;">
                    
                    <div>
                        <h1 style="font-family: Optima; color:#FFFF; font-family:Nunito; font-weight: bold;" >Login ERP</h1>
                        <hr>
                        <img src="./img/hola.gif" class="rounded-circle" style="background: #FFFF; " width="175" height="175"><!--rounded-circle-->
                    </div>
                    <br>
                   
                    <form>
                        <div class="mb-6">
                            <b><label class="form-label" style="font-family: Optima; color:#FFFF; font-family:Nunito; font-weight: bold;"">Usuario</label></b>
                            <input type="email" class="form-control" id="usuario" style="font-family:Nunito; font-weight: bold; text-align: left;" [(ngModel)]="this.credencial.usuario" [ngModelOptions]="{standalone: true}">
                        </div>
                        <div class="mb-3">
                            <b><label class="form-label" style="font-family: Optima; color:#FFFF; font-family:Nunito; font-weight: bold;"">Contraseña</label></b>
                            <input type="password" class="form-control" id="password" [(ngModel)]="this.credencial.password" [ngModelOptions]="{standalone: true}">
                        </div>
                        <button class="btn btn-success mt-2" onclick="Ingresar()" style="font-family:Nunito; font-weight: bold;">Ingresar</button>
                    </form>
    
                    
                    <div id="formFooter">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>

    <br><br><br><br><br><br>
    <div class="mb-6"><button class="btn btn-danger mt-2" onclick="Inicializar()" style="font-family:Nunito; font-weight: bold;">Inicializar</button>
        <br></div>
    
    <footer><iframe src="footer.html" frameborder="0" class="footer"></iframe></footer>

    <script type="text/javascript" src="./ABB_Proveedor.js"></script>

    <script>
        function Inicializar(){ //Inicializando Variables
            let arbol = new abb();
            sessionStorage.setItem("arbolP", JSON.stringify(arbol))
        }
        function Ingresar(){
            var nombre = document.querySelector('#usuario').value
            var contraseña = document.querySelector('#password').value

            if(nombre==""){
                alert("Debe ingresar un Usuario")
            }else if (contraseña==""){
                alert("Debe ingresar una contraseña")
            }

            if(nombre=="Admin"&&contraseña=="1234"){
                sessionStorage.setItem("buscar", "Admin")
                window.location.href = "inicioA.html";
            }else{
                /*fetch(`http://54.214.118.211:3000/Personas/${nombre}`, {
                method: 'GET',
                headers:{
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*',}})
                .then(res => res.json())
                .catch(err => {
                    console.error('Error:', err)
                    alert("Ocurrio un error, ver la consola")
                })
                .then(response =>{
                    console.log(response)
                   if (String(response.Contrasena)===String(contraseña)){
                        if(response.Tipo==1){
                            var usuario = nombre
                            sessionStorage.setItem("buscar", usuario)
                            window.location.href = "Pindex.html";
                        }else if(response.Tipo==2){
                            var usuario = nombre
                            sessionStorage.setItem("buscar", usuario)
                            window.location.href = "Eindex.html";
                        }else if(response.Tipo==3){
                            var usuario = nombre
                            sessionStorage.setItem("buscar", usuario)
                            window.location.href = "Dindex.html";
                        }
                    }else{
                        alert("Usuario y/o constraseña incorrectos")
                        document.querySelector('#usuario').value = ""
                        document.querySelector('#password').value = ""
                    }
                })*/
            }
            
            
        }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </body>
</html>